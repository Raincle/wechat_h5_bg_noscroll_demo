<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>微信H5滑动不露出背景测试</title>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="switch-btn"><p>状态：不可滑动</p></div>
  </body>
  <style media="screen">
    body, p {
      margin: 0;
    }
    html, body {
      position: fixed;
      width: 100vw;
      height: 100vh;
      left: 0;
      top: 0;
      overflow: hidden;
      background-color: white;
    }
    .switch-btn {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 150px;
      height: 40px;
      background-color: lightblue;
      border-radius: 40px;
    }
    .switch-btn p {
      width: 100%;
      line-height: 40px;
      text-align: center;
    }
  </style>
  <script type="text/javascript">

    $(document).ready(function(){
      $(".switch-btn").click(function(){
        var status = $(".switch-btn p").text()
        if (status == "状态：不可滑动") {
          $("html, body").css("position", "relative").css("left", "auto").css("top", "auto")
          $(".switch-btn p").text("状态：可滑动")
        } else {
          $("html, body").css("position", "fixed").css("left", "0").css("top", "0")
          $(".switch-btn p").text("状态：不可滑动")

          $(document).scroll(function() {
            $(document).scrollTop(0)
          })
          $("html").scroll(function() {
            $("html").scrollTop(0)
          })
          $("body").scroll(function() {
            $("body").scrollTop(0)
          })
        }
      });
    });

  </script>
</html>
